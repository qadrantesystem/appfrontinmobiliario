<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Match Property - Encuentra tu inmueble ideal</title>
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/utils/animations.css">
    <link rel="stylesheet" href="css/components/carousel.css">
    <link rel="stylesheet" href="css/components/logo-animation.css">
    <link rel="stylesheet" href="css/components/globe-3d.css">
    <link rel="stylesheet" href="css/components/modal-busqueda.css">
    <link rel="stylesheet" href="css/pages/home.css">
    <link rel="stylesheet" href="css/pages/why-match.css">
    <link rel="stylesheet" href="css/pages/busqueda.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Three.js para globo 3D real -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <!-- Loading Screen con Video de Intro -->
    <div class="loading-screen">
        <div class="video-intro-container">
            <video id="introVideo" class="intro-video" autoplay playsinline disablePictureInPicture controlsList="nodownload nofullscreen noremoteplayback">
                <source src="assets/video/intro.mp4" type="video/mp4">
                Tu navegador no soporta el elemento de video.
            </video>
        </div>
    </div>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <a href="/">
                        <img src="assets/images/logos/logo.jpg" alt="Match Property" class="logo-img">
                    </a>
                </div>
                <button class="hamburger" id="hamburger" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="/" class="active">Inicio</a></li>
                    <li><a href="#" id="btnBuscarNav">Buscar</a></li>
                    <li><a href="/sobre-nosotros">Nosotros</a></li>
                    <li><a href="/login" class="btn btn-outline">Iniciar Sesión</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Carousel -->
    <section class="carousel-hero">
        <div class="carousel-slides">
            <div class="carousel-slide active">
                <img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?w=1920&h=1080&fit=crop" alt="Oficina Moderna">
            </div>
            <div class="carousel-slide">
                <img src="https://images.unsplash.com/photo-1497366216548-37526070297c?w=1920&h=1080&fit=crop" alt="Edificio Corporativo">
            </div>
            <div class="carousel-slide">
                <img src="https://images.unsplash.com/photo-1497366811353-6870744d04b2?w=1920&h=1080&fit=crop" alt="Espacio Empresarial">
            </div>
            <div class="carousel-slide">
                <img src="https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=1920&h=1080&fit=crop" alt="Oficina Premium">
            </div>
            <div class="carousel-slide">
                <img src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=1920&h=1080&fit=crop" alt="Casa Moderna">
            </div>
        </div>

        <div class="carousel-overlay"></div>

        <div class="carousel-content">
            <h1 id="heroTitle">Lo que necesites con tan solo unos clicks… </h1>
            <p id="heroSubtitle">Objetivo, rápido y confiable</p>
            <div class="carousel-buttons">
                <button id="btnBuscarHero" class="btn btn-primary">Buscar Inmueble</button>
                <a href="/registrar-propiedad" class="btn btn-secondary">Publicar</a>
            </div>
        </div>

        <div class="carousel-arrow prev">‹</div>
        <div class="carousel-arrow next">›</div>

        <div class="carousel-controls">
            <span class="carousel-dot active" data-slide="0"></span>
            <span class="carousel-dot" data-slide="1"></span>
            <span class="carousel-dot" data-slide="2"></span>
            <span class="carousel-dot" data-slide="3"></span>
            <span class="carousel-dot" data-slide="4"></span>
        </div>
    </section>

    <!-- Modal de Búsqueda (Oculto inicialmente) -->
    <div class="modal-overlay" id="modalBusqueda" style="display: none;">
        <div class="modal-busqueda">
            <button class="modal-close" id="btnCerrarModal">
                <i class="fas fa-times"></i>
            </button>
            <div class="container">
            <!-- Filtro Simplificado -->
            <div class="filtro-simplificado-card">
                <h2>Búsqueda Generica</h2>

                <!-- Fila 1: Tipo de Inmueble -->
                <div class="form-group">
                    <label>Tipo de Inmueble</label>
                    <select id="tipoInmueble" class="form-control">
                        <option value="">Selecciona un tipo...</option>
                        <!-- Se carga dinámicamente -->
                    </select>
                </div>

                <!-- Fila 2: País + Departamento + Provincia -->
                <div class="ubicacion-row">
                    <div class="form-group">
                        <label>País</label>
                        <select id="pais" class="form-control">
                            <option value="PERU">Perú</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Departamento</label>
                        <select id="departamento" class="form-control">
                            <option value="">Selecciona departamento...</option>
                            <option value="LIMA" selected>Lima</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Provincia</label>
                        <select id="provincia" class="form-control">
                            <option value="">Selecciona provincia...</option>
                            <option value="LIMA" selected>Lima</option>
                        </select>
                    </div>
                </div>

                <!-- Fila 3: Distritos -->
                <div class="form-group">
                    <label>Distritos</label>
                    <div id="distritoMulti" class="multi-select">
                        <button type="button" class="multi-select__button" id="distritoToggle" aria-expanded="false" aria-haspopup="listbox">
                            <span class="multi-select__placeholder" id="distritoPlaceholder">Selecciona distritos...</span>
                            <span class="multi-select__tags" id="distritoTags"></span>
                            <span class="multi-select__arrow">▾</span>
                        </button>
                        <div class="multi-select__panel" id="distritoPanel" role="listbox" aria-multiselectable="true" hidden>
                            <div class="multi-select__search">
                                <input type="text" id="distritoSearch" placeholder="Buscar distrito..." class="multi-select__search-input">
                            </div>
                            <div class="multi-select__options" id="distritoOptions">
                                <!-- Opciones renderizadas por JS -->
                            </div>
                            <div class="multi-select__actions">
                                <button type="button" id="distritoSelectAll" class="multi-select__action">Seleccionar todos</button>
                                <button type="button" id="distritoClear" class="multi-select__action alt">Limpiar</button>
                            </div>
                        </div>
                    </div>
                    <small>Busca y selecciona múltiples distritos.</small>
                </div>

                <!-- Fila 4: Tipo de Transacción + Metraje + Presupuesto -->
                <div class="ubicacion-row">
                    <div class="form-group">
                        <label for="transaccion">Tipo de Transacción</label>
                        <select id="transaccion" name="transaccion" class="form-control">
                            <option value="compra" selected>Compra</option>
                            <option value="alquiler">Alquiler</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="metraje">Metraje (m²)</label>
                        <input type="number" id="metraje" class="form-control" placeholder="Ej: 460">
                        <small>El sistema busca ±15%</small>
                    </div>

                    <div class="form-group">
                        <label for="presupuesto" id="labelPresupuesto">Presupuesto Compra (USD)</label>
                        <input type="number" id="presupuesto" class="form-control" placeholder="750,000">
                        <small id="helperPresupuesto">Tolerancia ±15%</small>
                    </div>
                </div>

                <!-- Botón Hacer MATCH -->
                <div class="boton-match-container">
                    <button id="btnHacerMatch" class="btn btn-match">
                        Hacer MATCH
                    </button>
                </div>
            </div>
        </div>
        </div>
    </div>

    <!-- Why Match Property Section -->
    <section class="why-match-section">
        <div class="container">
            <!-- Globo 3D con Edificios Épico (título incluido arriba) -->
            <div class="globe-container">
                <!-- El título y globo se crean dinámicamente con JS -->
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services-section">
        <div class="container">
            <h2 class="section-title">Servicios Adicionales</h2>
            <div class="services-grid" id="servicesGrid">
                <!-- Se cargará dinámicamente desde JSON -->
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <h2>¿Deseas incorporarte al equipo?</h2>
            <p>Contáctanos y te ayudaremos a comercializar tu propiedad</p>
            <a href="/registrar-propiedad" class="btn btn-primary">Contactar Ahora</a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>Match Property</h3>
                    <p id="footerMision"><!-- Se carga dinámicamente --></p>
                </div>
                <div class="footer-col">
                    <h3>Enlaces</h3>
                    <ul>
                        <li><a href="/">Inicio</a></li>
                        <li><a href="/busqueda">Buscar</a></li>
                        <li><a href="/sobre-nosotros">Nosotros</a></li>
                        <li><a href="/login">Iniciar Sesión</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contacto</h3>
                    <p id="footerDireccion"><!-- Se carga dinámicamente --></p>
                    <p id="footerTelefono"><!-- Se carga dinámicamente --></p>
                    <p id="footerEmail"><!-- Se carga dinámicamente --></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Match Property. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Anime.js para animaciones (comentado temporalmente para usar video) -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script> -->

    <!-- Scripts propios -->
    <!-- <script src="js/components/logo-animation.js"></script> (comentado para usar video de intro) -->
    <script src="js/components/carousel.js"></script>
    <script src="js/components/globe-3d.js"></script>
    <script src="js/pages/busqueda.js"></script>
    <script src="js/pages/home.js"></script>
</body>
</html>
